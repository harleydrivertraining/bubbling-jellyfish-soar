/* Custom styles for react-big-calendar to ensure visibility and proper layout */
.rbc-calendar {
  font-family: inherit; /* Use app's default font */
  height: 100%; /* Ensure it takes full height of its container */
  display: flex;
  flex-direction: column;
  @apply text-foreground; /* Ensure text color is consistent */
}

.rbc-header {
  color: white;
  font-size: 14px !important;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 36px !important;
  background: #17405d;
}

/* Remove rbc-header from agenda view */
.rbc-agenda-view .rbc-header {
  display: none;
}

.rbc-month-row {
  @apply border-b border-border;
}

.rbc-day-bg {
  @apply border-l border-border;
}

.rbc-off-range-bg {
  @apply bg-muted/50; /* Slightly lighter muted background for off-range days */
}

.rbc-date-cell {
  @apply p-2 text-right text-foreground font-medium; /* Added font-medium */
}

.rbc-today .rbc-date-cell {
  @apply text-foreground !important; /* Ensure the date number's color is explicitly foreground */
}

.rbc-current-time-indicator {
  @apply bg-destructive; /* Using destructive color for current time indicator */
}

.rbc-event {
  @apply bg-primary text-primary-foreground rounded-md px-1 py-0.5 text-xs leading-tight shadow-sm; /* Adjusted padding and font size for button */
  /* Ensure events are readable and styled */
  display: flex; /* Make it a flex container */
  align-items: center; /* Vertically align content */
  justify-content: space-between; /* Space out title and button */
  overflow: hidden; /* Hide overflow if content is too long */
}

.rbc-toolbar {
  @apply flex justify-between items-center mb-4 px-2 gap-2; /* Added gap-2 for spacing */
}

.rbc-toolbar button {
  @apply inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50
         bg-secondary text-secondary-foreground hover:bg-secondary/80 h-9 px-3 py-2;
  /* Apply shadcn button styles */
}

.rbc-toolbar button:hover {
  @apply bg-accent text-accent-foreground;
}

.rbc-toolbar button.rbc-active {
  @apply bg-primary text-primary-foreground hover:bg-primary/90;
}

.rbc-toolbar-label {
  @apply text-xl font-bold text-foreground; /* Increased font size and weight */
}

/* Ensure the content area of the calendar takes available space */
.rbc-time-content,
.rbc-month-view,
.rbc-agenda-view {
  flex: 1;
}

.rbc-time-header-content {
  @apply border-b border-border;
}

.rbc-time-slot {
  @apply border-t border-border;
}

.rbc-label {
  @apply text-muted-foreground;
}

.rbc-today {
  @apply bg-accent/50; /* Highlight today's date with a lighter accent */
}

/* Specific adjustments for week and day view headers */
.rbc-time-header {
  @apply border-b border-border;
}

.rbc-time-header-cell {
  @apply border-r border-border;
}

.rbc-time-header-cell .rbc-today {
  background-color: #04aa6d !important;
}

.rbc-allday-cell {
	display: none;
}

.rbc-row-segment {
  @apply border-b border-border;
}

.rbc-day-slot .rbc-event {
  @apply border border-primary/50; /* Add a subtle border to events in day/week view */
}

/* Mobile-specific adjustments */
@media (max-width: 767px) {
  .rbc-toolbar {
    flex-direction: column; /* Stack buttons vertically */
    align-items: stretch; /* Stretch buttons to full width */
    gap: 0.5rem; /* Add some vertical spacing */
    padding: 0.5rem; /* Adjust padding */
  }

  .rbc-toolbar .rbc-btn-group {
    display: flex; /* Make button groups also stack/stretch */
    flex-direction: column;
    width: 100%;
  }

  .rbc-toolbar .rbc-btn-group button {
    border-radius: 0.375rem; /* Slightly rounded corners for stacked buttons */
    margin-left: 0 !important; /* Remove horizontal margin */
    margin-right: 0 !important; /* Remove horizontal margin */
  }

  .rbc-toolbar .rbc-btn-group button + button {
    margin-top: 0.25rem; /* Small vertical gap between stacked buttons */
  }

  .rbc-toolbar .rbc-toolbar-label {
    margin-bottom: 0.5rem; /* Space between label and buttons */
    font-size: 1.5rem; /* Slightly smaller font for label on mobile */
  }

  .rbc-header {
    font-size: 12px !important; /* Smaller header font */
    height: 30px !important; /* Smaller header height */
  }

  .rbc-date-cell {
    padding: 0.25rem; /* Smaller padding for date cells */
  }

  .rbc-event {
    padding: 0.125rem 0.25rem; /* Smaller padding for events */
    font-size: 0.65rem; /* Smaller font size for events */
  }

  /* Ensure the "Mark All Day's Bookings as Completed" button is also responsive */
  .flex.justify-end.mb-4 {
    justify-content: center; /* Center the button on mobile */
  }
}